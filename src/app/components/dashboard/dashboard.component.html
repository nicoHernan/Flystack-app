<div class="dashboard-container">
  <section class="welcome-section">
    <h1>Â¿A dÃ³nde planeas ir?</h1>
    <p>Escribe una ciudad y deja que nuestra IA analice tu viaje.</p>

    <div class="input-group">
      <input 
        type="text" 
        [formControl]="destinoControl" 
        placeholder="Ej: Roma, Tokio, Salta..."
        class="input-destino"
        (keyup.enter)="obtenerInspiracion()"
      >

    <button 
        (click)="obtenerInspiracion()" 
        [disabled]="isLoading || destinoControl.invalid" 
        class="btn-ai"
    >
        {{ isLoading ? 'Consultando...' : 'âœ¨ Inspirame' }}
    </button>
    </div>

    <small *ngIf="destinoControl.invalid && destinoControl.touched" class="error-text">
      Por favor, escribe un destino vÃ¡lido (mÃ­nimo 3 letras).
    </small>
  </section>

  <div *ngIf="isLoading" class="loader-container">
    <div class="spinner"></div>
    <p>Analizando {{ destinoControl.value }} para el mes actual...</p>
  </div>

  <div *ngIf="aiResponse && !isLoading" class="ai-card animate-fade-in">
    <div class="card-header">
      <span class="sparkle-icon">âœ¨</span>
      <h3>Experto en Viajes FlyStack</h3>
    </div>
    <div class="card-body">
      <p>{{ aiResponse }}</p>
    </div>
  </div>

  <header>
    <h1>FlyStack</h1>
    <div class="user-info">
      <span>Bienvenido, <strong>{{ userName || 'Viajero' }}</strong></span>
      <button (click)="logout()" class="btn-logout">Cerrar SesiÃ³n</button>
    </div>
  </header>

  <main class="menu-grid">
    <div class="card" routerLink="/flights">
      <div class="icon">âœˆï¸</div>
      <h3>Buscar Vuelos</h3>
      <p>Encuentra las mejores ofertas con Amadeus.</p>
    </div>

    <div class="card" routerLink="/activities">
      <div class="icon">ğŸ›ï¸</div>
      <h3>Tours y Actividades</h3>
      <p>Descubre experiencias increÃ­bles en tu destino.</p>
    </div>

    <div class="card" routerLink="/settings">
      <div class="icon">âš™ï¸</div>
      <h3>Ajustes</h3>
      <p>Personaliza tu experiencia de usuario.</p>
    </div>
  </main>
</div>