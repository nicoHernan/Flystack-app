<div class="flights-container">
  <div class="header-actions">
    <button (click)="goBack()" class="btn-back">â¬…ï¸ Volver al Panel</button>
  </div>

  <h2>âœˆï¸ Buscador de Vuelos</h2>

  <div class="search-box">
    <div class="input-group">
      <label>Origen (IATA)</label>
      <input [(ngModel)]="searchQuery.origin" placeholder="Ej: EZE" maxlength="3">
    </div>
    
    <div class="input-group">
      <label>Destino (IATA)</label>
      <input [(ngModel)]="searchQuery.destination" placeholder="Ej: MAD" maxlength="3">
    </div>

    <div class="input-group">
      <label>Salida</label>
      <input type="date" [(ngModel)]="searchQuery.date">
    </div>

    <div class="input-group">
      <label>Regreso</label>
      <input type="date" [(ngModel)]="searchQuery.returnDate">
    </div>

    <button (click)="onSearch()" [disabled]="loading" class="btn-search">
      {{ loading ? 'Buscando...' : 'Buscar Vuelos' }}
    </button>
  </div>

  <p *ngIf="error" class="error-msg">{{ error }}</p>

  <div class="results-list" *ngIf="flightOffers.length > 0">
    <div class="flight-card" *ngFor="let flight of flightOffers">
      <div class="flight-info">
        <div class="main-data">
          <span class="airline-name">
            ğŸ¢ {{ getAirlineName(flight.validatingAirlineCodes[0]) }}
          </span>
          <span class="price-tag">
            {{ flight.price.total }} {{ flight.price.currency }}
          </span>
        </div>
        
        <div class="details">
          <span>ğŸ“… Ida: {{ flight.itineraries[0].segments[0].departure.at | date:'short' }}</span>
          <span *ngIf="flight.itineraries[1]">
            ğŸ”„ Vuelta: {{ flight.itineraries[1].segments[0].departure.at | date:'short' }}
          </span>
        </div>
      </div>
      
      <button class="btn-save" (click)="saveFlight(flight)">
        â­ Guardar en mi Perfil
      </button>
    </div>
  </div>
</div>